# Political-Net

> H·ªá th·ªëng x√¢y d·ª±ng Knowledge Graph cho c√°c ch√≠nh tr·ªã gia Vi·ªát Nam t·ª´ d·ªØ li·ªáu Wikipedia

## üìã M·ª•c l·ª•c

- [Gi·ªõi thi·ªáu](#gi·ªõi-thi·ªáu)
- [T√≠nh nƒÉng](#t√≠nh-nƒÉng)
- [C·∫•u tr√∫c d·ª± √°n](#c·∫•u-tr√∫c-d·ª±-√°n)
- [C√†i ƒë·∫∑t](#c√†i-ƒë·∫∑t)
- [S·ª≠ d·ª•ng](#s·ª≠-d·ª•ng)
- [Ki·∫øn tr√∫c h·ªá th·ªëng](#ki·∫øn-tr√∫c-h·ªá-th·ªëng)
- [D·ªØ li·ªáu](#d·ªØ-li·ªáu)
- [ƒê√≥ng g√≥p](#ƒë√≥ng-g√≥p)

## üéØ Gi·ªõi thi·ªáu

**Political-Net** l√† m·ªôt h·ªá th·ªëng t·ª± ƒë·ªông thu th·∫≠p, x·ª≠ l√Ω v√† x√¢y d·ª±ng Knowledge Graph v·ªÅ c√°c ch√≠nh tr·ªã gia Vi·ªát Nam. D·ª± √°n s·ª≠ d·ª•ng d·ªØ li·ªáu t·ª´ Wikipedia ti·∫øng Vi·ªát ƒë·ªÉ t·∫°o ra m·ªôt c∆° s·ªü tri th·ª©c c√≥ c·∫•u tr√∫c v·ªÅ c√°c ch√≠nh tr·ªã gia, bao g·ªìm th√¥ng tin v·ªÅ:

- Ti·ªÉu s·ª≠ v√† th√¥ng tin c√° nh√¢n
- V·ªã tr√≠ ch√≠nh tr·ªã ƒë√£ ƒë·∫£m nhi·ªám
- Quan h·ªá v·ªõi c√°c ch√≠nh tr·ªã gia kh√°c (ti·ªÅn nhi·ªám, k·∫ø nhi·ªám)
- H·ªçc v·∫•n v√† b·∫±ng c·∫•p
- Qu√° tr√¨nh c√¥ng t√°c qu√¢n s·ª±
- C√°c gi·∫£i th∆∞·ªüng v√† danh hi·ªáu
- M·ªëi quan h·ªá ƒë·ªãa l√Ω (n∆°i sinh, n∆°i m·∫•t)

## ‚ú® T√≠nh nƒÉng

### 1. Thu th·∫≠p d·ªØ li·ªáu (Crawling)

- ‚úÖ Crawl danh s√°ch ch√≠nh tr·ªã gia t·ª´ c√°c kh√≥a Qu·ªëc h·ªôi
- ‚úÖ Tr√≠ch xu·∫•t th√¥ng tin t·ª´ infobox Wikipedia
- ‚úÖ X·ª≠ l√Ω v√† chu·∫©n h√≥a d·ªØ li·ªáu th√¥
- ‚úÖ H·ªó tr·ª£ crawl song song v·ªõi async logging

### 2. X·ª≠ l√Ω v√† chu·∫©n h√≥a d·ªØ li·ªáu (Preprocessing)

- ‚úÖ Chu·∫©n h√≥a ng√†y th√°ng nƒÉm sinh
- ‚úÖ Chu·∫©n h√≥a th√¥ng tin gi·∫£i th∆∞·ªüng
- ‚úÖ Chu·∫©n h√≥a th√¥ng tin h·ªçc v·∫•n
- ‚úÖ Chu·∫©n h√≥a t√™n t·ªânh/th√†nh ph·ªë
- ‚úÖ Chu·∫©n h√≥a th√¥ng tin chi·∫øn d·ªãch qu√¢n s·ª±
- ‚úÖ L√†m s·∫°ch v√† chu·∫©n h√≥a d·ªØ li·ªáu ch√≠nh ƒë·∫£ng

### 3. X√¢y d·ª±ng Knowledge Graph

- ‚úÖ X√¢y d·ª±ng c√°c node: Politician, Position, Location, Award, MilitaryCareer, etc.
- ‚úÖ X√¢y d·ª±ng c√°c edge: SERVED_AS, SUCCEEDED, PRECEDED, BORN_AT, etc.
- ‚úÖ T·ª± ƒë·ªông ph√°t hi·ªán v√† x·ª≠ l√Ω m·ªëi quan h·ªá
- ‚úÖ Xu·∫•t d·ªØ li·ªáu sang ƒë·ªãnh d·∫°ng JSON v√† Cypher (Neo4j)

### 4. Ph√¢n t√≠ch v√† thu·∫≠t to√°n

- ‚úÖ X√¢y d·ª±ng graph t·ª´ d·ªØ li·ªáu ƒë√£ chu·∫©n h√≥a
- ‚úÖ Ph√°t hi·ªán m·ªëi quan h·ªá gi·ªØa c√°c ch√≠nh tr·ªã gia
- ‚úÖ Tr√≠ch xu·∫•t th√¥ng tin t·ª´ wikilink

## üìÅ C·∫•u tr√∫c d·ª± √°n

```
political-net/
‚îÇ
‚îú‚îÄ‚îÄ algorithm/              # C√°c thu·∫≠t to√°n x·ª≠ l√Ω graph
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ graph_builder.py   # X√¢y d·ª±ng graph t·ª´ d·ªØ li·ªáu
‚îÇ
‚îú‚îÄ‚îÄ crawl/                 # Module thu th·∫≠p d·ªØ li·ªáu
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ alias.py          # X·ª≠ l√Ω alias cho t√™n ch√≠nh tr·ªã gia
‚îÇ   ‚îú‚îÄ‚îÄ crawl_names.py    # Crawl danh s√°ch t√™n
‚îÇ   ‚îî‚îÄ‚îÄ crawl_politicians.py  # Crawl th√¥ng tin chi ti·∫øt
‚îÇ
‚îú‚îÄ‚îÄ data/                  # Th∆∞ m·ª•c ch·ª©a d·ªØ li·ªáu
‚îÇ   ‚îú‚îÄ‚îÄ database/         # Database JSON
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ politicians_db.json
‚îÇ   ‚îú‚îÄ‚îÄ mess/             # D·ªØ li·ªáu m·∫´u v√† seed
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ data_sample.json
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ knowledge_graph_sample.json
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ seed_politicians.txt
‚îÇ   ‚îú‚îÄ‚îÄ processed/        # D·ªØ li·ªáu ƒë√£ x·ª≠ l√Ω
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ politicians_names.txt
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ graph/        # Knowledge graph
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ knowledge_graph.json
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ neo4j_import.cypher
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ infobox/      # D·ªØ li·ªáu infobox ƒë√£ chu·∫©n h√≥a
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ politicians_data.json
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ politicians_data_cleaned.json
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ politicians_data_normalized.json
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ politicians_data_*_normalized.json
‚îÇ   ‚îî‚îÄ‚îÄ raw/              # D·ªØ li·ªáu th√¥
‚îÇ       ‚îî‚îÄ‚îÄ viwiki-latest-pages-articles.xml
‚îÇ
‚îú‚îÄ‚îÄ graph/                 # Module x√¢y d·ª±ng knowledge graph
‚îÇ   ‚îú‚îÄ‚îÄ build_edges_.py   # X√¢y d·ª±ng c√°c c·∫°nh
‚îÇ   ‚îú‚îÄ‚îÄ build_kgs.py      # X√¢y d·ª±ng knowledge graph ch√≠nh
‚îÇ   ‚îî‚îÄ‚îÄ graph.py          # C√°c h√†m ti·ªán √≠ch cho graph
‚îÇ
‚îú‚îÄ‚îÄ logs/                  # Th∆∞ m·ª•c ch·ª©a log files
‚îÇ   ‚îú‚îÄ‚îÄ algorithm/
‚îÇ   ‚îú‚îÄ‚îÄ crawl/
‚îÇ   ‚îú‚îÄ‚îÄ graph/
‚îÇ   ‚îî‚îÄ‚îÄ preprocessing/
‚îÇ
‚îú‚îÄ‚îÄ preprocessing/         # Module ti·ªÅn x·ª≠ l√Ω d·ªØ li·ªáu
‚îÇ   ‚îú‚îÄ‚îÄ awards_normalizer.py      # Chu·∫©n h√≥a gi·∫£i th∆∞·ªüng
‚îÇ   ‚îú‚îÄ‚îÄ battles_normalizer.py     # Chu·∫©n h√≥a chi·∫øn d·ªãch
‚îÇ   ‚îú‚îÄ‚îÄ birth_date_normalizer.py  # Chu·∫©n h√≥a ng√†y sinh
‚îÇ   ‚îú‚îÄ‚îÄ clean_infobox.py          # L√†m s·∫°ch infobox
‚îÇ   ‚îú‚îÄ‚îÄ education_normalizer.py   # Chu·∫©n h√≥a h·ªçc v·∫•n
‚îÇ   ‚îú‚îÄ‚îÄ party_normalizer.py       # Chu·∫©n h√≥a ƒë·∫£ng ph√°i
‚îÇ   ‚îî‚îÄ‚îÄ province_normalizer.py    # Chu·∫©n h√≥a ƒë·ªãa danh
‚îÇ
‚îú‚îÄ‚îÄ utils/                 # C√°c ti·ªán √≠ch d√πng chung
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ config.py         # C·∫•u h√¨nh h·ªá th·ªëng
‚îÇ   ‚îú‚îÄ‚îÄ external.py       # D·ªØ li·ªáu ngo√†i v√† constants
‚îÇ   ‚îî‚îÄ‚îÄ queue_based_async_logger.py  # Async logger
‚îÇ
‚îú‚îÄ‚îÄ main.py               # Entry point ch√≠nh
‚îú‚îÄ‚îÄ pyproject.toml        # C·∫•u h√¨nh project v√† dependencies
‚îú‚îÄ‚îÄ requirements.txt      # Dependencies list
‚îú‚îÄ‚îÄ uv.lock              # Lock file cho uv package manager
‚îî‚îÄ‚îÄ README.md            # T√†i li·ªáu n√†y
```

## üöÄ C√†i ƒë·∫∑t

### Y√™u c·∫ßu h·ªá th·ªëng

- Python >= 3.11
- uv package manager (khuy·∫øn ngh·ªã) ho·∫∑c pip

### B∆∞·ªõc 1: C√†i ƒë·∫∑t uv

**C√°ch 1: S·ª≠ d·ª•ng pip**

```bash
pip install uv
```

**C√°ch 2: C√†i ƒë·∫∑t t·ª´ script (khuy·∫øn ngh·ªã)**

Windows (PowerShell):

```powershell
powershell -c "irm https://astral.sh/uv/install.ps1 | iex"
```

macOS/Linux:

```bash
curl -LsSf https://astral.sh/uv/install.sh | sh
```

Chi ti·∫øt: [UV Installation Guide](https://docs.astral.sh/uv/getting-started/installation/)

### B∆∞·ªõc 2: Clone repository

```bash
git clone https://github.com/datmieu204/political-net.git
cd political-net
```

### B∆∞·ªõc 3: C√†i ƒë·∫∑t dependencies

```bash
# ƒê·ªìng b·ªô dependencies t·ª´ uv.lock
uv sync
```

### B∆∞·ªõc 4: K√≠ch ho·∫°t m√¥i tr∆∞·ªùng ·∫£o

**Windows:**

```powershell
.venv\Scripts\activate
```

**macOS/Linux:**

```bash
source .venv/bin/activate
```

## üíª S·ª≠ d·ª•ng

### 1. Crawl danh s√°ch ch√≠nh tr·ªã gia

```bash
python main.py
```

Script n√†y s·∫Ω crawl danh s√°ch ch√≠nh tr·ªã gia t·ª´ c√°c kh√≥a Qu·ªëc h·ªôi (t·ª´ kh√≥a I ƒë·∫øn XIII).

### 2. Crawl th√¥ng tin chi ti·∫øt

```python
from crawl.crawl_politicians import crawl_politicians_data

# Crawl th√¥ng tin t·ª´ file danh s√°ch
crawl_politicians_data(
    input_file="data/processed/politicians_names.txt",
    output_file="data/processed/infobox/politicians_data.json"
)
```

### 3. X·ª≠ l√Ω v√† chu·∫©n h√≥a d·ªØ li·ªáu

```python
# L√†m s·∫°ch d·ªØ li·ªáu
from preprocessing.clean_infobox import clean_all_infoboxes
clean_all_infoboxes()

# Chu·∫©n h√≥a ng√†y sinh
from preprocessing.birth_date_normalizer import normalize_birth_dates
normalize_birth_dates()

# Chu·∫©n h√≥a gi·∫£i th∆∞·ªüng
from preprocessing.awards_normalizer import normalize_awards
normalize_awards()

# Chu·∫©n h√≥a h·ªçc v·∫•n
from preprocessing.education_normalizer import normalize_education
normalize_education()

# Chu·∫©n h√≥a ƒë·ªãa danh
from preprocessing.province_normalizer import normalize_provinces
normalize_provinces()
```

### 4. X√¢y d·ª±ng Knowledge Graph

```python
from graph.build_kgs import KnowledgeGraphBuilder

# Kh·ªüi t·∫°o builder
kg_builder = KnowledgeGraphBuilder()

# Build graph t·ª´ d·ªØ li·ªáu ƒë√£ chu·∫©n h√≥a
kg_builder.build_from_file("data/processed/infobox/politicians_data_normalized.json")

# Xu·∫•t k·∫øt qu·∫£
kg_builder.export_to_json("data/processed/graph/knowledge_graph.json")
kg_builder.export_to_neo4j("data/processed/graph/neo4j_import.cypher")
```

### 5. Import v√†o Neo4j (Optional)

N·∫øu mu·ªën visualize v√† query knowledge graph b·∫±ng Neo4j:

```bash
# Kh·ªüi ƒë·ªông Neo4j
# Sau ƒë√≥ import file Cypher
cypher-shell < data/processed/graph/neo4j_import.cypher
```

## üèóÔ∏è Ki·∫øn tr√∫c h·ªá th·ªëng

### Pipeline x·ª≠ l√Ω d·ªØ li·ªáu

```
Wikipedia Pages
      ‚Üì
[1. Crawling Module]
      ‚Üì
Raw Data (JSON)
      ‚Üì
[2. Preprocessing Module]
      ‚Üì
Normalized Data
      ‚Üì
[3. Graph Builder]
      ‚Üì
Knowledge Graph
      ‚Üì
[4. Export (JSON/Neo4j)]
      ‚Üì
Final Output
```

### C√°c th√†nh ph·∫ßn ch√≠nh

1. **Crawling Module**: Thu th·∫≠p d·ªØ li·ªáu t·ª´ Wikipedia
2. **Preprocessing Module**: Chu·∫©n h√≥a v√† l√†m s·∫°ch d·ªØ li·ªáu
3. **Algorithm Module**: Ph√¢n t√≠ch v√† tr√≠ch xu·∫•t m·ªëi quan h·ªá
4. **Graph Module**: X√¢y d·ª±ng knowledge graph
5. **Utils**: Logging, configuration, external data

## üìä D·ªØ li·ªáu

### Schema c·ªßa Knowledge Graph

#### Nodes

- **Politician**: Ch√≠nh tr·ªã gia
- **Position**: V·ªã tr√≠/ch·ª©c v·ª•
- **Location**: ƒê·ªãa ƒëi·ªÉm (t·ªânh/th√†nh ph·ªë)
- **Award**: Gi·∫£i th∆∞·ªüng/danh hi·ªáu
- **MilitaryCareer**: Qu√¢n ng·∫°ch
- **MilitaryRank**: C·∫•p b·∫≠c qu√¢n ƒë·ªôi
- **Campaigns**: Chi·∫øn d·ªãch qu√¢n s·ª±
- **AlmaMater**: Tr∆∞·ªùng h·ªçc
- **AcademicTitle**: H·ªçc v·ªã/h·ªçc h√†m

#### Edges

- **SERVED_AS**: ƒê·∫£m nhi·ªám v·ªã tr√≠
- **SUCCEEDED**: K·∫ø nhi·ªám
- **PRECEDED**: Ti·ªÅn nhi·ªám
- **BORN_AT**: Sinh t·∫°i
- **DIED_AT**: M·∫•t t·∫°i
- **AWARDED**: ƒê∆∞·ª£c trao t·∫∑ng
- **SERVED_IN**: Ph·ª•c v·ª• trong
- **HAS_RANK**: C√≥ c·∫•p b·∫≠c
- **FOUGHT_IN**: Tham gia chi·∫øn d·ªãch
- **ALUMNUS_OF**: T·ªët nghi·ªáp t·ª´
- **HAS_ACADEMIC_TITLE**: C√≥ h·ªçc v·ªã

### Dependencies ch√≠nh

```toml
beautifulsoup4 >= 4.14.2    # Web scraping
lxml >= 6.0.2               # XML parsing
requests >= 2.32.5          # HTTP requests
mwparserfromhell >= 0.7.2   # MediaWiki parsing
wikitextparser >= 0.56.4    # Wikitext parsing
networkx >= 3.5             # Graph algorithms
pandas >= 2.3.3             # Data manipulation
neo4j >= 6.0.2              # Graph database
matplotlib >= 3.10.6        # Visualization
jupyter >= 1.1.1            # Interactive notebooks
```

## ü§ù ƒê√≥ng g√≥p

M·ªçi ƒë√≥ng g√≥p ƒë·ªÅu ƒë∆∞·ª£c hoan ngh√™nh! Vui l√≤ng:

1. Fork repository
2. T·∫°o branch m·ªõi (`git checkout -b feature/AmazingFeature`)
3. Commit changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to branch (`git push origin feature/AmazingFeature`)
5. T·∫°o Pull Request

## üìù License

D·ª± √°n n√†y ƒë∆∞·ª£c ph√¢n ph·ªëi d∆∞·ªõi MIT License.

## üë• T√°c gi·∫£

- **datmieu204** - [GitHub](https://github.com/datmieu204)
- **HungIsWorking** - [GitHub](https://github.com/HungIsWorking)
- **chocoyeni** - [GitHub](https://github.com/chocoyeni)

## üìß Li√™n h·ªá

N·∫øu c√≥ b·∫•t k·ª≥ c√¢u h·ªèi ho·∫∑c g√≥p √Ω n√†o, vui l√≤ng t·∫°o issue tr√™n GitHub.

---

**Note**: D·ª± √°n n√†y ch·ªâ nh·∫±m m·ª•c ƒë√≠ch nghi√™n c·ª©u v√† h·ªçc t·∫≠p. D·ªØ li·ªáu ƒë∆∞·ª£c thu th·∫≠p t·ª´ Wikipedia tu√¢n theo [Creative Commons Attribution-ShareAlike License](https://creativecommons.org/licenses/by-sa/3.0/).
